@import uk.gov.hmrc.bforms.models.components.FieldValue
@import uk.gov.hmrc.bforms.models.FormFieldValidationResult
@import uk.gov.hmrc.play.views.html.helpers._

@(fieldValue: FieldValue, validationResult: Option[FormFieldValidationResult])

<div class="form-field-group @if(validationResult.map(_.isOk).contains(false)) { form-field-group--error }">
    <fieldset>
        <legend class="h3-heading">@localisation(fieldValue.label)</legend>
        @if(fieldValue.helpText) {
        <div class="form-field--hint">@localisation(fieldValue.helpText.getOrElse(""))</div>
        }

        @errorInline(fieldValue.id.value, "Please enter your street", Seq(""))

        <div class="form-group-compound">
            <label class="form-label" for="@{fieldValue.id}.street1">Street</label>

            <input type="text"
                   class="input--medium"
                   name="@{fieldValue.id}.street1"
                   id="@{fieldValue.id}.street1"
                   value="@validationResult.map(_.getCurrentValue("street1")).getOrElse("")" />
        </div>

        <div class="form-group-compound">
            <label class="form-label visuallyhidden" for="@{fieldValue.id}.street2">Address line 2</label>

            <input type="text"
                   class="input--medium"
                   name="@{fieldValue.id}.street2"
                   id="@{fieldValue.id}.street2"
                   value="@validationResult.map(_.getCurrentValue("street2")).getOrElse("")" />
        </div>

        <div class="form-group-related">
            <label class="form-label visuallyhidden" for="@{fieldValue.id}.street3">Address line 3</label>

            <input type="text"
                   class="input--medium"
                   name="@{fieldValue.id}.street3"
                   id="@{fieldValue.id}.street3"
                   value="@validationResult.map(_.getCurrentValue("street3")).getOrElse("")" />
        </div>

        <div class="form-group-related">
            <label class="form-label" for="@{fieldValue.id}.town">Town</label>

            <input type="text"
                   class="input--medium"
                   name="@{fieldValue.id}.town"
                   id="@{fieldValue.id}.town"
                   value="@validationResult.map(_.getCurrentValue("town")).getOrElse("")" />
        </div>

        <div class="form-field-group">
            <label class="form-label" for="@{fieldValue.id}.county">County (optional)</label>

            <input type="text"
                   class="input--medium"
                   name="@{fieldValue.id}.county"
                   id="@{fieldValue.id}.county"
                   value="@validationResult.map(_.getCurrentValue("county")).getOrElse("")" />
        </div>

        <div class="form-field-group">
            <label class="form-label" for="@{fieldValue.id}.postcode">Postcode</label>

            <input type="text"
                   class="input--small"
                   name="@{fieldValue.id}.postcode"
                   id="@{fieldValue.id}.postcode"
                   value="@validationResult.map(_.getCurrentValue("postcode")).getOrElse("")" />
        </div>

        <div class="form-field-group">
            <label class="form-label" for="@{fieldValue.id}.country">Country</label>

            <input type="text"
                   class="input--medium"
                   name="@{fieldValue.id}.country"
                   id="@{fieldValue.id}.country"
                   value="@validationResult.map(_.getCurrentValue("country")).getOrElse("")" />
        </div>
    </fieldset>
</div>
